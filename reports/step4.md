# Report

洪昊昀    计82    2017010591

## 1. 任务

增加比较大小和相等的二元操作：`<`、`<=`、`>=`, `>`, `==`, `!=`，以及逻辑与 `&&`、逻辑或 `||`。

## 2. 实验内容

修改语法规范以满足ANTLR的要求，然后增加二元操作的 IR的栈操作，再加入操作对应的汇编代码。

## 3. 思考题

### 3.1 

在表达式计算时，对于某一步运算，是否一定要先计算出所有的操作数的结果才能进行运算？

答：不一定，比如 `&&​` 运算，对于`a&&b`，如果 a==0，那么值一定为 0，不许要再计算 b 的值了。

### 3.2

在 MiniDecaf 中，我们对于短路求值未做要求，但在包括 C 语言的大多数流行的语言中，短路求值都是被支持的。为何这一特性广受欢迎？你认为短路求值这一特性会给程序员带来怎样的好处？

答：因为这一特性可以用更小的计算成本获得同样准确的结果。我认为程序员在使用这种表达式时，可以将计算量更小的表达式作为左操作数，这样如果成功短路求值，就会提升程序的效率。

## 4.

在step1的基础上，我主要借鉴了参考代码中ir和asm的部分，虽然我没有办法完全靠自己写出来，但已经理解了它的思路。相比做 step1 时的手足无措，在这次实验中我对实验的理解更加深入了。

